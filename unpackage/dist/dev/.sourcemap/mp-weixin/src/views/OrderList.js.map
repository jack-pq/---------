{"version":3,"file":"OrderList.js","sources":["src/views/OrderList.vue","../../../Desktop/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvTFdSL0RvY3VtZW50cy9IQnVpbGRlclByb2plY3RzL-WQiuavm-WltuiMtuW6l-eCueWNleezu-e7ny9zcmMvdmlld3MvT3JkZXJMaXN0LnZ1ZQ"],"sourcesContent":["<template>\n  <div class=\"bg-gray-50 h-screen overflow-hidden flex flex-col\">\n    <!-- 顶部导航 -->\n    <div class=\"bg-white p-4 shadow-sm\">\n      <div class=\"flex justify-between items-center\">\n        <h1 class=\"text-xl font-bold text-gray-800\">购物车</h1>\n        <button \n          class=\"text-gray-500 text-sm\"\n          @click=\"clearCart\"\n        >\n          <i class=\"iconfont icon-delete mr-1\"></i>清空购物车\n        </button>\n      </div>\n    </div>\n\n    <!-- 购物车商品列表 -->\n    <div class=\"flex-1 overflow-y-auto scrollbar-hide\">\n      <!-- 商品列表 -->\n      <div \n        v-if=\"cartItems.length > 0\"\n        class=\"bg-white divide-y divide-gray-100\"\n      >\n        <!-- 商品项 -->\n        <div \n          v-for=\"(item, index) in cartItems\" \n          :key=\"index\"\n          class=\"p-4 flex product-item group\"\n        >\n          <!-- 选择框 -->\n          <div \n            class=\"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center mr-3 flex-shrink-0 cursor-pointer hover:border-primary transition-colors\"\n            :class=\"{ 'bg-primary': item.checked }\"\n            @click=\"toggleItemChecked(index)\"\n          >\n            <i \n              class=\"iconfont icon-check\"\n              :class=\"{ 'text-white': item.checked, 'text-gray-300': !item.checked }\"\n            ></i>\n          </div>\n          \n          <!-- 商品图片 -->\n          <img \n            :src=\"item.image\" \n            :alt=\"item.name\" \n            class=\"w-16 h-16 object-cover rounded-lg mr-3 flex-shrink-0\"\n          />\n          \n          <!-- 商品信息 -->\n          <div class=\"flex-1\">\n            <div class=\"flex justify-between\">\n              <h3 class=\"font-bold text-gray-800\">{{ item.name }}</h3>\n              <span class=\"text-primary font-bold\">¥{{ item.price }}</span>\n            </div>\n            \n            <p class=\"text-gray-500 text-xs mb-2\">{{ item.description }}</p>\n            \n            <div class=\"flex justify-between items-center\">\n              <!-- 数量控制 -->\n              <div class=\"flex items-center border border-gray-200 rounded-full w-24 hover:border-primary transition-colors\">\n                <button \n                  class=\"w-8 h-8 flex items-center justify-center text-gray-500\"\n                  @click=\"decreaseQuantity(index)\"\n                >\n                  <i class=\"iconfont icon-jian\"></i>\n                </button>\n                <span class=\"w-8 text-center text-sm\">{{ item.quantity }}</span>\n                <button \n                  class=\"w-8 h-8 flex items-center justify-center text-gray-500\"\n                  @click=\"increaseQuantity(index)\"\n                >\n                  <i class=\"iconfont icon-jia\"></i>\n                </button>\n              </div>\n              \n              <!-- 删除按钮 -->\n              <button \n                class=\"text-gray-400 text-xs opacity-0 group-hover:opacity-100 transition-opacity\"\n                @click=\"removeItem(index)\"\n              >\n                <i class=\"iconfont icon-shanchu\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 空购物车状态 -->\n      <div \n        v-else\n        class=\"items-center justify-center flex-col h-full py-10 flex\"\n      >\n        <div class=\"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4\">\n          <i class=\"iconfont icon-gouwuchekong text-gray-300 text-3xl\"></i>\n        </div>\n        <p class=\"text-gray-500 mb-4\">购物车是空的</p>\n        <button \n          class=\"bg-primary text-white px-4 py-2 rounded-full text-sm\"\n          @click=\"navigateTo('order')\"\n        >\n          去点单\n        </button>\n      </div>\n    </div>\n\n    <!-- 结算栏 -->\n    <div \n      v-if=\"cartItems.length > 0\"\n      class=\"border-t border-gray-200 bg-white py-3 px-4\"\n    >\n      <div class=\"flex items-center justify-between\">\n        <div class=\"flex items-center\">\n          <div \n            class=\"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center mr-2 cursor-pointer\"\n            :class=\"{ 'bg-primary': isAllSelected }\"\n            @click=\"toggleSelectAll\"\n          >\n            <i \n              class=\"iconfont icon-check\"\n              :class=\"{ 'text-white': isAllSelected, 'text-gray-300': !isAllSelected }\"\n            ></i>\n          </div>\n          <span class=\"text-sm text-gray-600\">全选 ({{ selectedCount }})</span>\n        </div>\n        \n        <div class=\"text-right mr-4\">\n          <p class=\"text-sm text-gray-500\">合计: <span class=\"text-primary font-bold text-lg\">¥{{ totalPrice.toFixed(2) }}</span></p>\n          <p class=\"text-xs text-gray-400\">不含配送费</p>\n        </div>\n        \n        <button \n          class=\"bg-gradient-to-r from-primary to-secondary text-white px-6 py-2 rounded-full font-medium transition-all duration-300 transform hover:scale-105 whitespace-nowrap shadow-md hover:shadow-lg\"\n          @click=\"checkout\"\n        >\n          去结算\n        </button>\n      </div>\n    </div>\n\n    <!-- 底部导航 -->\n    <div class=\"border-t border-gray-100 bg-white py-2 px-6\">\n      <div class=\"flex justify-around\">\n        <div \n          v-for=\"(nav, index) in navItems\" \n          :key=\"index\"\n          class=\"text-center\"\n          @click=\"navigateTo(nav.path)\"\n        >\n          <i \n            class=\"iconfont text-xl\"\n            :class=\"[nav.icon, nav.active ? 'text-primary' : 'text-gray-400']\"\n          ></i>\n          <p \n            class=\"text-xs mt-1\"\n            :class=\"{ 'text-primary': nav.active, 'text-gray-400': !nav.active }\"\n          >\n            {{ nav.label }}\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue';\nimport { useRouter } from 'vue-router';\n\nexport default {\n  setup() {\n    const router = useRouter();\n    \n    // 购物车数据\n    const cartItems = ref([\n      {\n        id: '1',\n        name: '芋圆奶茶',\n        price: 18,\n        description: '中杯 · 七分糖 · 去冰',\n        quantity: 1,\n        checked: true,\n        image: 'https://picsum.photos/id/431/100/100'\n      },\n      {\n        id: '2',\n        name: '珍珠奶茶',\n        price: 16,\n        description: '大杯 · 五分糖 · 少冰',\n        quantity: 1,\n        checked: true,\n        image: 'https://picsum.photos/id/292/100/100'\n      },\n      {\n        id: '3',\n        name: '草莓奶盖',\n        price: 22,\n        description: '中杯 · 三分糖 · 去冰',\n        quantity: 1,\n        checked: true,\n        image: 'https://picsum.photos/id/1080/100/100'\n      }\n    ]);\n    \n    // 导航数据\n    const navItems = ref([\n      { icon: 'icon-shouye', label: '首页', path: 'home', active: false },\n      { icon: 'icon-fenlei', label: '点单', path: 'order', active: false },\n      { icon: 'icon-gouwuche', label: '购物车', path: 'cart', active: true },\n      { icon: 'icon-wode', label: '我的', path: 'user', active: false }\n    ]);\n    \n    // 计算属性\n    const selectedCount = computed(() => {\n      return cartItems.value.filter(item => item.checked).length;\n    });\n    \n    const totalPrice = computed(() => {\n      return cartItems.value\n        .filter(item => item.checked)\n        .reduce((total, item) => total + (item.price * item.quantity), 0);\n    });\n    \n    const isAllSelected = computed(() => {\n      return cartItems.value.length > 0 && \n             cartItems.value.every(item => item.checked);\n    });\n    \n    // 方法\n    const increaseQuantity = (index) => {\n      cartItems.value[index].quantity++;\n      saveCartData();\n    };\n    \n    const decreaseQuantity = (index) => {\n      if (cartItems.value[index].quantity > 1) {\n        cartItems.value[index].quantity--;\n        saveCartData();\n      }\n    };\n    \n    const toggleItemChecked = (index) => {\n      cartItems.value[index].checked = !cartItems.value[index].checked;\n      saveCartData();\n    };\n    \n    const toggleSelectAll = () => {\n      const shouldSelectAll = !isAllSelected.value;\n      cartItems.value.forEach(item => {\n        item.checked = shouldSelectAll;\n      });\n      saveCartData();\n    };\n    \n    const removeItem = (index) => {\n      if (confirm('确定要删除该商品吗？')) {\n        cartItems.value.splice(index, 1);\n        saveCartData();\n      }\n    };\n    \n    const clearCart = () => {\n      if (confirm('确定要清空购物车吗？')) {\n        cartItems.value = [];\n        saveCartData();\n      }\n    };\n    \n    const checkout = () => {\n      if (selectedCount.value === 0) {\n        alert('请选择要结算的商品');\n        return;\n      }\n      router.push('/orders');\n    };\n    \n    const navigateTo = (path) => {\n      router.push(`/${path}`);\n    };\n    \n    // 保存购物车数据到localStorage\n    const saveCartData = () => {\n      localStorage.setItem('milkTeaCart', JSON.stringify(cartItems.value));\n    };\n    \n    // 从localStorage加载购物车数据\n    const loadCartData = () => {\n      const savedCart = localStorage.getItem('milkTeaCart');\n      if (savedCart) {\n        cartItems.value = JSON.parse(savedCart);\n      }\n    };\n    \n    // 初始化时加载购物车数据\n    loadCartData();\n    \n    return {\n      cartItems,\n      navItems,\n      selectedCount,\n      totalPrice,\n      isAllSelected,\n      increaseQuantity,\n      decreaseQuantity,\n      toggleItemChecked,\n      toggleSelectAll,\n      removeItem,\n      clearCart,\n      checkout,\n      navigateTo\n    };\n  }\n};\n</script>\n\n<style>\n@layer utilities {\n  .scrollbar-hide {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  .scrollbar-hide::-webkit-scrollbar {\n    display: none;\n  }\n  .product-item {\n    transition: all 0.2s ease;\n  }\n  .product-item:hover {\n    background-color: #FFF7F0;\n  }\n}\n</style>","import Component from 'C:/Users/LWR/Documents/HBuilderProjects/吊毛奶茶店点单系统/src/views/OrderList.vue'\nwx.createComponent(Component)"],"names":["useRouter","ref","computed"],"mappings":"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"}