{"version":3,"file":"Orders.js","sources":["src/views/Orders.vue","../../../Desktop/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvTFdSL0RvY3VtZW50cy9IQnVpbGRlclByb2plY3RzL-WQiuavm-WltuiMtuW6l-eCueWNleezu-e7ny9zcmMvdmlld3MvT3JkZXJzLnZ1ZQ"],"sourcesContent":["<template>\n  <div class=\"bg-gray-50 h-screen overflow-hidden flex flex-col\">\n    <!-- 顶部导航 -->\n    <div class=\"bg-white p-4 shadow-sm\">\n      <div class=\"flex justify-between items-center\">\n        <h1 class=\"text-xl font-bold text-gray-800\">我的订单</h1>\n        <div \n          class=\"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center cursor-pointer\"\n          @click=\"navigateTo('search')\"\n        >\n          <i class=\"iconfont icon-sousuo text-gray-500\"></i>\n        </div>\n      </div>\n    </div>\n\n    <!-- 订单状态筛选 -->\n    <div class=\"bg-white border-b border-gray-100 overflow-x-auto scrollbar-hide\">\n      <div class=\"flex space-x-6 px-4 min-w-max\">\n        <div \n          v-for=\"(tab, index) in orderTabs\" \n          :key=\"index\"\n          class=\"pb-3 transition-colors cursor-pointer\"\n          :class=\"{\n            'text-primary border-b-2 border-primary font-medium': activeTab === tab.id,\n            'text-gray-500 hover:text-primary': activeTab !== tab.id\n          }\"\n          @click=\"switchTab(tab.id)\"\n        >\n          {{ tab.label }}\n        </div>\n      </div>\n    </div>\n\n    <!-- 订单列表 -->\n    <div class=\"flex-1 overflow-y-auto p-4 space-y-4\">\n      <!-- 订单卡片 -->\n      <div \n        v-for=\"(order, index) in filteredOrders\" \n        :key=\"index\"\n        class=\"bg-white rounded-xl shadow-card overflow-hidden order-card\"\n      >\n        <div class=\"p-4 border-b border-gray-100\">\n          <div class=\"flex justify-between items-center mb-2\">\n            <h3 class=\"font-bold text-gray-800\">{{ order.store }}</h3>\n            <span \n              class=\"text-sm font-medium\"\n              :class=\"{\n                'text-primary': order.status === 'pending',\n                'text-green-500': order.status === 'completed',\n                'text-gray-500': order.status === 'canceled'\n              }\"\n            >\n              {{ orderStatusText[order.status] }}\n            </span>\n          </div>\n          <p class=\"text-gray-500 text-xs\">订单编号: {{ order.id }} | {{ order.date }}</p>\n        </div>\n        \n        <div class=\"p-4\">\n          <!-- 订单商品 -->\n          <div \n            v-for=\"(item, itemIndex) in order.items\" \n            :key=\"itemIndex\"\n            class=\"flex items-center mb-3\"\n          >\n            <img \n              :src=\"item.image\" \n              :alt=\"item.name\" \n              class=\"w-12 h-12 object-cover rounded mr-3\"\n            />\n            <div class=\"flex-1\">\n              <h4 class=\"font-medium text-gray-800 text-sm\">{{ item.name }}</h4>\n              <p class=\"text-gray-500 text-xs\">{{ item.description }}</p>\n            </div>\n            <span class=\"text-gray-800 font-medium\">x{{ item.quantity }}</span>\n          </div>\n          \n          <!-- 订单操作 -->\n          <div class=\"flex justify-between items-center pt-3 border-t border-gray-100\">\n            <p class=\"text-gray-800 font-bold\">总计: ¥{{ order.total }}</p>\n            <div class=\"flex space-x-2\">\n              <button \n                v-if=\"order.status === 'pending'\"\n                class=\"px-3 py-1 border border-gray-300 rounded-full text-sm text-gray-600 hover:bg-gray-50 transition-colors\"\n                @click=\"cancelOrder(order.id)\"\n              >\n                取消订单\n              </button>\n              <button \n                v-if=\"order.status === 'pending'\"\n                class=\"px-3 py-1 bg-primary text-white rounded-full text-sm hover:bg-primary/90 transition-colors\"\n                @click=\"showPickupCode(order.id)\"\n              >\n                取餐码\n              </button>\n              <button \n                v-if=\"order.status === 'completed' || order.status === 'canceled'\"\n                class=\"px-3 py-1 border border-gray-300 rounded-full text-sm text-gray-600 hover:bg-gray-50 transition-colors\"\n                @click=\"reorder(order)\"\n              >\n                再来一单\n              </button>\n              <button \n                v-if=\"order.status === 'completed'\"\n                class=\"px-3 py-1 border border-gray-300 rounded-full text-sm text-gray-600 hover:bg-gray-50 transition-colors\"\n                @click=\"viewOrderDetails(order.id)\"\n              >\n                查看详情\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 底部导航 -->\n    <div class=\"border-t border-gray-200 bg-white py-2 px-6\">\n      <div class=\"flex justify-around\">\n        <div \n          v-for=\"(nav, index) in navItems\" \n          :key=\"index\"\n          class=\"text-center\"\n          @click=\"navigateTo(nav.path)\"\n        >\n          <i \n            class=\"iconfont text-xl\"\n            :class=\"[nav.icon, nav.active ? 'text-primary' : 'text-gray-400']\"\n          ></i>\n          <p \n            class=\"text-xs mt-1\"\n            :class=\"{ 'text-primary': nav.active, 'text-gray-400': !nav.active }\"\n          >\n            {{ nav.label }}\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue';\nimport { useRouter } from 'vue-router';\n\nexport default {\n  setup() {\n    const router = useRouter();\n    \n    // 订单状态文本\n    const orderStatusText = {\n      pending: '待取餐',\n      completed: '已完成',\n      canceled: '已取消'\n    };\n    \n    // 订单选项卡\n    const orderTabs = ref([\n      { id: 'all', label: '全部订单' },\n      { id: 'pending', label: '待付款' },\n      { id: 'pickup', label: '待取餐' },\n      { id: 'completed', label: '已完成' },\n      { id: 'canceled', label: '已取消' }\n    ]);\n    \n    // 当前激活的选项卡\n    const activeTab = ref('all');\n    \n    // 订单数据\n    const orders = ref([\n      {\n        id: '2023101500123',\n        store: '吊毛奶茶(科技园店)',\n        status: 'pending',\n        date: '2023-10-15 14:30',\n        total: 34,\n        items: [\n          {\n            name: '芋圆奶茶',\n            description: '中杯 · 七分糖 · 去冰',\n            quantity: 1,\n            price: 18,\n            image: 'https://picsum.photos/id/431/80/80'\n          },\n          {\n            name: '珍珠奶茶',\n            description: '大杯 · 五分糖 · 少冰',\n            quantity: 1,\n            price: 16,\n            image: 'https://picsum.photos/id/292/80/80'\n          }\n        ]\n      },\n      {\n        id: '2023101400089',\n        store: '吊毛奶茶(大学城店)',\n        status: 'completed',\n        date: '2023-10-14 10:15',\n        total: 22,\n        items: [\n          {\n            name: '草莓奶盖',\n            description: '中杯 · 三分糖 · 去冰',\n            quantity: 1,\n            price: 22,\n            image: 'https://picsum.photos/id/1080/80/80'\n          }\n        ]\n      },\n      {\n        id: '2023101300056',\n        store: '吊毛奶茶(科技园店)',\n        status: 'canceled',\n        date: '2023-10-13 16:45',\n        total: 20,\n        items: [\n          {\n            name: '抹茶奶茶',\n            description: '中杯 · 五分糖 · 少冰',\n            quantity: 1,\n            price: 20,\n            image: 'https://picsum.photos/id/312/80/80'\n          }\n        ]\n      }\n    ]);\n    \n    // 导航数据\n    const navItems = ref([\n      { icon: 'icon-shouye', label: '首页', path: 'home', active: false },\n      { icon: 'icon-fenlei', label: '点单', path: 'order', active: false },\n      { icon: 'icon-gouwuche', label: '购物车', path: 'cart', active: false },\n      { icon: 'icon-wode', label: '我的', path: 'user', active: true }\n    ]);\n    \n    // 计算属性：过滤后的订单\n    const filteredOrders = computed(() => {\n      if (activeTab.value === 'all') {\n        return orders.value;\n      }\n      return orders.value.filter(order => order.status === activeTab.value);\n    });\n    \n    // 方法\n    const switchTab = (tabId) => {\n      activeTab.value = tabId;\n    };\n    \n    const cancelOrder = (orderId) => {\n      if (confirm('确定要取消该订单吗？')) {\n        const order = orders.value.find(o => o.id === orderId);\n        if (order) {\n          order.status = 'canceled';\n        }\n      }\n    };\n    \n    const showPickupCode = (orderId) => {\n      alert(`订单 ${orderId} 的取餐码是: 1234`);\n    };\n    \n    const reorder = (order) => {\n      alert(`已将订单 ${order.id} 的商品重新加入购物车`);\n    };\n    \n    const viewOrderDetails = (orderId) => {\n      router.push(`/order-details/${orderId}`);\n    };\n    \n    const navigateTo = (path) => {\n      router.push(`/${path}`);\n    };\n    \n    return {\n      orderStatusText,\n      orderTabs,\n      activeTab,\n      orders,\n      navItems,\n      filteredOrders,\n      switchTab,\n      cancelOrder,\n      showPickupCode,\n      reorder,\n      viewOrderDetails,\n      navigateTo\n    };\n  }\n};\n</script>\n\n<style>\n@layer utilities {\n  .scrollbar-hide {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  .scrollbar-hide::-webkit-scrollbar {\n    display: none;\n  }\n  .order-card {\n    transition: all 0.2s ease;\n  }\n  .order-card:hover {\n    transform: translateY(-3px);\n    box-shadow: 0 10px 20px rgba(0,0,0,0.08);\n  }\n}\n</style>","import Component from 'C:/Users/LWR/Documents/HBuilderProjects/吊毛奶茶店点单系统/src/views/Orders.vue'\nwx.createComponent(Component)"],"names":["useRouter","ref","computed"],"mappings":"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"}