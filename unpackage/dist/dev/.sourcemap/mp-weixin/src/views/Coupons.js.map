{"version":3,"file":"Coupons.js","sources":["src/views/Coupons.vue","../../../Desktop/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvTFdSL0RvY3VtZW50cy9IQnVpbGRlclByb2plY3RzL-WQiuavm-WltuiMtuW6l-eCueWNleezu-e7ny9zcmMvdmlld3MvQ291cG9ucy52dWU"],"sourcesContent":["<template>\n  <div class=\"bg-gray-50 h-screen overflow-hidden flex flex-col\">\n    <!-- 顶部导航 -->\n    <div class=\"bg-white p-4 shadow-sm\">\n      <div class=\"flex justify-between items-center\">\n        <h1 class=\"text-xl font-bold text-gray-800\">我的优惠券</h1>\n        <div class=\"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center\">\n          <i class=\"iconfont icon-help text-gray-500\"></i>\n        </div>\n      </div>\n    </div>\n\n    <!-- 选项卡 -->\n    <div class=\"bg-white border-b border-gray-100\">\n      <div class=\"flex\">\n        <div \n          class=\"flex-1 py-3 text-center font-medium coupon-tab\" \n          :class=\"{ 'text-primary border-b-2 border-primary': activeTab === 'available', 'text-gray-500': activeTab !== 'available' }\"\n          @click=\"switchTab('available')\"\n        >\n          可用优惠券 ({{ availableCoupons.length }})\n        </div>\n        <div \n          class=\"flex-1 py-3 text-center font-medium coupon-tab\" \n          :class=\"{ 'text-primary border-b-2 border-primary': activeTab === 'expired', 'text-gray-500': activeTab !== 'expired' }\"\n          @click=\"switchTab('expired')\"\n        >\n          已过期 ({{ expiredCoupons.length }})\n        </div>\n      </div>\n    </div>\n\n    <!-- 优惠券列表 -->\n    <div class=\"flex-1 overflow-y-auto p-4 space-y-4\">\n      <!-- 可用优惠券 -->\n      <div v-if=\"activeTab === 'available'\">\n        <div \n          v-for=\"(coupon, index) in availableCoupons\" \n          :key=\"index\"\n          class=\"bg-white rounded-xl shadow-card overflow-hidden coupon-corner hover:shadow-md transition-shadow duration-300\"\n        >\n          <div class=\"flex\">\n            <div \n              class=\"w-2/5 text-white p-5 flex flex-col justify-center items-center\"\n              :class=\"coupon.bgClass\"\n            >\n              <p class=\"text-sm opacity-90\">{{ coupon.typeText }}</p>\n              <p class=\"text-3xl font-bold\">{{ coupon.valueDisplay }}</p>\n              <p class=\"text-xs opacity-90 mt-1\">{{ coupon.unit }}</p>\n            </div>\n            <div class=\"w-3/5 p-4\">\n              <h3 class=\"font-bold text-gray-800 mb-1\">{{ coupon.name }}</h3>\n              <p class=\"text-gray-500 text-xs mb-3\">有效期至：{{ coupon.expiryDate }}</p>\n              <p class=\"text-gray-500 text-xs mb-4\">{{ coupon.description }}</p>\n              <button \n                class=\"w-full py-2 border border-primary text-primary rounded-full text-sm font-medium hover:bg-primary hover:text-white transition-colors\"\n                @click=\"useCoupon(coupon)\"\n              >\n                立即使用\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 过期优惠券 -->\n      <div v-if=\"activeTab === 'expired'\">\n        <div \n          v-for=\"(coupon, index) in expiredCoupons\" \n          :key=\"index\"\n          class=\"bg-white rounded-xl shadow-card overflow-hidden coupon-corner opacity-60\"\n        >\n          <div class=\"flex\">\n            <div class=\"w-2/5 bg-gradient-gray-1 text-white p-5 flex flex-col justify-center items-center\">\n              <p class=\"text-sm opacity-90\">{{ coupon.typeText }}</p>\n              <p class=\"text-3xl font-bold\">{{ coupon.valueDisplay }}</p>\n              <p class=\"text-xs opacity-90 mt-1\">{{ coupon.unit }}</p>\n            </div>\n            <div class=\"w-3/5 p-4\">\n              <h3 class=\"font-bold text-gray-800 mb-1\">{{ coupon.name }}</h3>\n              <p class=\"text-gray-500 text-xs mb-3\">已过期：{{ coupon.expiryDate }}</p>\n              <p class=\"text-gray-500 text-xs mb-4\">{{ coupon.description }}</p>\n              <button class=\"w-full py-2 border border-gray-300 text-gray-400 rounded-full text-sm font-medium cursor-not-allowed\">\n                已过期\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 优惠券使用说明 -->\n      <div class=\"bg-white rounded-xl p-4 text-sm text-gray-500\">\n        <p class=\"mb-2\"><i class=\"iconfont icon-info-circle text-primary mr-1\"></i> 优惠券使用说明</p>\n        <ul class=\"list-disc list-inside space-y-1 text-xs\">\n          <li>每张订单限用一张优惠券，不可叠加使用</li>\n          <li>优惠券不可兑换现金，不设找零</li>\n          <li>过期优惠券将自动失效，请及时使用</li>\n          <li>如有疑问，请联系客服咨询</li>\n        </ul>\n      </div>\n    </div>\n\n    <!-- 底部导航 -->\n    <div class=\"border-t border-gray-200 bg-white py-2 px-6\">\n      <div class=\"flex justify-around\">\n        <div \n          class=\"text-center\" \n          v-for=\"(nav, index) in navItems\" \n          :key=\"index\"\n          @click=\"navigateTo(nav.path)\"\n        >\n          <i \n            class=\"iconfont text-xl\" \n            :class=\"[nav.icon, nav.active ? 'text-primary' : 'text-gray-400']\"\n          ></i>\n          <p \n            class=\"text-xs mt-1\" \n            :class=\"{ 'text-primary': nav.active, 'text-gray-400': !nav.active }\"\n          >\n            {{ nav.label }}\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue';\nimport { useRouter } from 'vue-router';\n\nexport default {\n  setup() {\n    const router = useRouter();\n    \n    // 选项卡状态\n    const activeTab = ref('available');\n    \n    // 优惠券数据\n    const coupons = ref([\n      {\n        id: '1',\n        type: 'money',\n        typeText: '满30减',\n        value: 10,\n        valueDisplay: '10',\n        unit: '元',\n        name: '满30元减10元优惠券',\n        expiryDate: '2023-12-31',\n        description: '全场饮品通用，不可叠加使用',\n        minAmount: 30,\n        bgClass: 'bg-gradient-coupon-1',\n        status: 'available'\n      },\n      {\n        id: '2',\n        type: 'discount',\n        typeText: 'discount',\n        value: 8.5,\n        valueDisplay: '8.5',\n        unit: '折',\n        name: '全场8.5折优惠券',\n        expiryDate: '2023-11-15',\n        description: '限奶茶系列使用，单笔最高减15元',\n        minAmount: 0,\n        bgClass: 'bg-gradient-coupon-2',\n        status: 'available'\n      },\n      {\n        id: '3',\n        type: 'free',\n        typeText: '免费',\n        value: '中杯奶茶',\n        valueDisplay: '中杯奶茶',\n        unit: '兑换券',\n        name: '免费中杯奶茶兑换券',\n        expiryDate: '2023-10-30',\n        description: '限指定饮品使用，需任意消费',\n        minAmount: 0,\n        bgClass: 'bg-gradient-coupon-3',\n        status: 'available'\n      },\n      {\n        id: '4',\n        type: 'money',\n        typeText: '满20减',\n        value: 5,\n        valueDisplay: '5',\n        unit: '元',\n        name: '满20元减5元优惠券',\n        expiryDate: '2023-09-30',\n        description: '全场饮品通用，不可叠加使用',\n        minAmount: 20,\n        bgClass: 'bg-gradient-gray-1',\n        status: 'expired'\n      }\n    ]);\n    \n    // 导航数据\n    const navItems = ref([\n      { icon: 'icon-shouye', label: '首页', path: 'home', active: false },\n      { icon: 'icon-fenlei', label: '点单', path: 'order', active: false },\n      { icon: 'icon-gouwuche', label: '购物车', path: 'cart', active: false },\n      { icon: 'icon-wode', label: '我的', path: 'user', active: true }\n    ]);\n    \n    // 计算属性\n    const availableCoupons = computed(() => {\n      return coupons.value.filter(coupon => coupon.status === 'available');\n    });\n    \n    const expiredCoupons = computed(() => {\n      return coupons.value.filter(coupon => coupon.status === 'expired');\n    });\n    \n    // 方法\n    const switchTab = (tab) => {\n      activeTab.value = tab;\n    };\n    \n    const useCoupon = (coupon) => {\n      // 存储选中的优惠券信息\n      localStorage.setItem('selectedCoupon', JSON.stringify({\n        id: coupon.id,\n        type: coupon.type,\n        value: coupon.value,\n        minAmount: coupon.minAmount\n      }));\n      \n      // 跳转到订单页面\n      router.push('/order');\n      \n      // 显示使用提示\n      alert(`已选择${coupon.type === 'money' ? '满' + coupon.minAmount + '减' + coupon.value : \n            coupon.type === 'discount' ? coupon.value + '折' : coupon.value}优惠券`);\n    };\n    \n    const navigateTo = (path) => {\n      router.push(`/${path}`);\n    };\n    \n    return {\n      activeTab,\n      availableCoupons,\n      expiredCoupons,\n      navItems,\n      switchTab,\n      useCoupon,\n      navigateTo\n    };\n  }\n};\n</script>\n\n<style>\n@layer utilities {\n  .bg-gradient-gray-1 {\n    background: linear-gradient(135deg, #CCCCCC 0%, #999999 100%);\n  }\n  .bg-gradient-coupon-1 {\n    background: linear-gradient(135deg, #1677FF 0%, #40A9FF 100%);\n  }\n  .bg-gradient-coupon-2 {\n    background: linear-gradient(135deg, #0958D9 0%, #1890FF 100%);\n  }\n  .bg-gradient-coupon-3 {\n    background: linear-gradient(135deg, #0047AB 0%, #0066CC 100%);\n  }\n  .coupon-corner {\n    position: relative;\n  }\n  .coupon-corner::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    right: -8px;\n    transform: translateY(-50%);\n    width: 16px;\n    height: 16px;\n    background: #F3F4F6;\n    border-radius: 50%;\n  }\n  .coupon-dash {\n    background-image: linear-gradient(to right, #fff 50%, transparent 50%);\n    background-position: bottom;\n    background-size: 12px 1px;\n    background-repeat: repeat-x;\n  }\n}\n</style>","import Component from 'C:/Users/LWR/Documents/HBuilderProjects/吊毛奶茶店点单系统/src/views/Coupons.vue'\nwx.createComponent(Component)"],"names":["useRouter","ref","computed"],"mappings":";;AAmIA,MAAK,YAAU;AAAA,EACb,QAAQ;AACN,UAAM,SAASA,cAAAA;AAGf,UAAM,YAAYC,kBAAI,WAAW;AAGjC,UAAM,UAAUA,cAAAA,IAAI;AAAA,MAClB;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,UAAU;AAAA,QACV,OAAO;AAAA,QACP,cAAc;AAAA,QACd,MAAM;AAAA,QACN,MAAM;AAAA,QACN,YAAY;AAAA,QACZ,aAAa;AAAA,QACb,WAAW;AAAA,QACX,SAAS;AAAA,QACT,QAAQ;AAAA,MACT;AAAA,MACD;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,UAAU;AAAA,QACV,OAAO;AAAA,QACP,cAAc;AAAA,QACd,MAAM;AAAA,QACN,MAAM;AAAA,QACN,YAAY;AAAA,QACZ,aAAa;AAAA,QACb,WAAW;AAAA,QACX,SAAS;AAAA,QACT,QAAQ;AAAA,MACT;AAAA,MACD;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,UAAU;AAAA,QACV,OAAO;AAAA,QACP,cAAc;AAAA,QACd,MAAM;AAAA,QACN,MAAM;AAAA,QACN,YAAY;AAAA,QACZ,aAAa;AAAA,QACb,WAAW;AAAA,QACX,SAAS;AAAA,QACT,QAAQ;AAAA,MACT;AAAA,MACD;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,UAAU;AAAA,QACV,OAAO;AAAA,QACP,cAAc;AAAA,QACd,MAAM;AAAA,QACN,MAAM;AAAA,QACN,YAAY;AAAA,QACZ,aAAa;AAAA,QACb,WAAW;AAAA,QACX,SAAS;AAAA,QACT,QAAQ;AAAA,MACV;AAAA,IACF,CAAC;AAGD,UAAM,WAAWA,cAAAA,IAAI;AAAA,MACnB,EAAE,MAAM,eAAe,OAAO,MAAM,MAAM,QAAQ,QAAQ,MAAO;AAAA,MACjE,EAAE,MAAM,eAAe,OAAO,MAAM,MAAM,SAAS,QAAQ,MAAO;AAAA,MAClE,EAAE,MAAM,iBAAiB,OAAO,OAAO,MAAM,QAAQ,QAAQ,MAAO;AAAA,MACpE,EAAE,MAAM,aAAa,OAAO,MAAM,MAAM,QAAQ,QAAQ,KAAK;AAAA,IAC/D,CAAC;AAGD,UAAM,mBAAmBC,cAAAA,SAAS,MAAM;AACtC,aAAO,QAAQ,MAAM,OAAO,YAAU,OAAO,WAAW,WAAW;AAAA,IACrE,CAAC;AAED,UAAM,iBAAiBA,cAAAA,SAAS,MAAM;AACpC,aAAO,QAAQ,MAAM,OAAO,YAAU,OAAO,WAAW,SAAS;AAAA,IACnE,CAAC;AAGD,UAAM,YAAY,CAAC,QAAQ;AACzB,gBAAU,QAAQ;AAAA;AAGpB,UAAM,YAAY,CAAC,WAAW;AAE5B,mBAAa,QAAQ,kBAAkB,KAAK,UAAU;AAAA,QACpD,IAAI,OAAO;AAAA,QACX,MAAM,OAAO;AAAA,QACb,OAAO,OAAO;AAAA,QACd,WAAW,OAAO;AAAA,MACnB,CAAA,CAAC;AAGF,aAAO,KAAK,QAAQ;AAGpB,YAAM,MAAM,OAAO,SAAS,UAAU,MAAM,OAAO,YAAY,MAAM,OAAO,QACtE,OAAO,SAAS,aAAa,OAAO,QAAQ,MAAM,OAAO,KAAK,KAAK;AAAA;AAG3E,UAAM,aAAa,CAAC,SAAS;AAC3B,aAAO,KAAK,IAAI,IAAI,EAAE;AAAA;AAGxB,WAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;EAEJ;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1PA,GAAG,gBAAgB,SAAS;"}